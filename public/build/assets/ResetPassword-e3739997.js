import{_ as h,x as w,r as y,o as _,y as g,z as v,A as x,n as b,c as i,d as l,e as s,t as c,h as u,q as p,B as P,D as m,j as d}from"./app-7d55152f.js";import"https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js";const k={props:[],data(){return{isModalOpen:!0,isLoading:!1,typeInputPassword:"password",form:{email:"",password:"",password_confirmation:"",token:""}}},setup(o){const e=w(),n=y(null);return _(()=>{n.value=e.params.token}),{token:n,route:e}},computed:{isAuthenticated(){return g().isAuth}},mounted(){const o=v();this.isAuthenticated&&o.push({name:"home"})},methods:{togglePassword(){this.typeInputPassword=this.typeInputPassword==="password"?"text":"password"},resetPasswordSubmit:async function(){const o=x();this.isLoading=!0,this.form.token=this.token,await b.post(`auth/reset-password/${this.token}`,this.form).then(e=>{this.isLoading=!1,o.success("Senha restaurada com sucesso!",{position:"top-center",timeout:3e3,className:"custom-toast"}),this.$router.push({name:"login"})}).catch(e=>{this.isLoading=!1;const n=JSON.parse(e.request.responseText);Object.entries(n).forEach(([f,t])=>{o.error(`${t}`,{position:"top-center",timeout:3e3,className:"custom-toast"})})})}}},S={key:0,class:"over-modal"},I={class:"fixed inset-0 z-50 flex flex-cols-1 w-full items-center justify-center overflow-y-auto"},L={class:"relative w-[calc(100%-30px)] max-w-[420px] justify-center items-center custom-font"},M={class:"px-4 py-5"},j={class:"min-h-[calc(100vh-565px)] text-center flex flex-col items-center justify-center"},q={class:"w-full rounded-lg border-none md:mt-0 sm:max-w-md xl:p-0 background-bottom-navigation"},A={class:"p-2 space-y-4"},C={class:"text-center custom-font-title"},N={class:"mt-4 px-4"},R={class:"relative mb-3"},V=["placeholder"],B={class:"relative mb-3"},D=["type","placeholder"],O={key:0,class:"fa-regular fa-eye"},T={key:1,class:"fa-sharp fa-regular fa-eye-slash"},E={class:"relative mb-3"},U=["type","placeholder"],z={key:0,class:"fa-regular fa-eye"},J={key:1,class:"fa-sharp fa-regular fa-eye-slash"},F={class:"mt-5 w-full"},G=["disabled"];function H(o,e,n,f,t,a){return t.isModalOpen?(i(),l("div",S,[s("div",I,[s("div",L,[s("div",M,[s("div",j,[s("div",q,[s("div",A,[s("h1",C,c(o.$t("Reset Password")),1),s("div",N,[s("form",{onSubmit:e[5]||(e[5]=u((...r)=>a.resetPasswordSubmit&&a.resetPasswordSubmit(...r),["prevent"]))},[s("div",R,[e[6]||(e[6]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none"},[s("i",{class:"fa-regular fa-envelope text-success-emphasis"})],-1)),p(s("input",{type:"email",name:"email","onUpdate:modelValue":e[0]||(e[0]=r=>t.form.email=r),class:"input-group rounded-lg",placeholder:o.$t("Seu Email"),required:""},null,8,V),[[P,t.form.email]])]),s("div",B,[e[7]||(e[7]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none"},[s("i",{class:"fa-regular fa-lock text-success-emphasis"})],-1)),p(s("input",{type:t.typeInputPassword,name:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.form.password=r),class:"input-group pr-[40px] rounded-lg",placeholder:o.$t("Type the password"),required:""},null,8,D),[[m,t.form.password]]),s("button",{type:"button",onClick:e[2]||(e[2]=u((...r)=>a.togglePassword&&a.togglePassword(...r),["prevent"])),class:"absolute inset-y-0 right-0 flex items-center pr-3.5"},[t.typeInputPassword==="password"?(i(),l("i",O)):d("",!0),t.typeInputPassword==="text"?(i(),l("i",T)):d("",!0)])]),s("div",E,[e[8]||(e[8]=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none"},[s("i",{class:"fa-regular fa-lock text-success-emphasis"})],-1)),p(s("input",{type:t.typeInputPassword,name:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=r=>t.form.password_confirmation=r),class:"input-group pr-[40px] rounded-lg",placeholder:o.$t("Confirm the Password"),required:""},null,8,U),[[m,t.form.password_confirmation]]),s("button",{type:"button",onClick:e[4]||(e[4]=u((...r)=>a.togglePassword&&a.togglePassword(...r),["prevent"])),class:"absolute inset-y-0 right-0 flex items-center pr-3.5"},[t.typeInputPassword==="password"?(i(),l("i",z)):d("",!0),t.typeInputPassword==="text"?(i(),l("i",J)):d("",!0)])]),s("div",F,[s("button",{type:"submit",class:"butiss text-[14px] rounded-lg w-full mb-3",disabled:t.isLoading},c(t.isLoading?"Carregando...":o.$t("Submit")),9,G)])],32)])])])])])])])])):d("",!0)}const X=h(k,[["render",H],["__scopeId","data-v-aa2b6964"]]);export{X as default};
